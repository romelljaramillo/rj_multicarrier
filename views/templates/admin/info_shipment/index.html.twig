{% extends '@PrestaShop/Admin/layout.html.twig' %}

{% block content %}
  <div class="row">
    <div class="col-12">
  {% embed '@PrestaShop/Admin/Common/Grid/grid_panel.html.twig' with { grid: infoShipmentGrid } %}
        {% block grid_panel_header %}
          <div class="card-header js-grid-header d-flex align-items-center justify-content-between">
            <div class="d-flex align-items-center">
              <h3 class="card-header-title mb-0">{{ 'Paquetes pendientes'|trans({}, 'Modules.RjMulticarrier.Admin') }}</h3>
              <span class="badge badge-secondary ml-2">{{ grid.data.records_total }}</span>
            </div>
            <div class="d-flex align-items-center">
              <a
                href="{{ path('admin_rj_multicarrier_shipments_index') }}"
                class="btn btn-outline-secondary btn-sm mr-2"
              >
                {{ 'Ver envíos generados'|trans({}, 'Modules.RjMulticarrier.Admin') }}
              </a>
              {{ include('@PrestaShop/Admin/Common/Grid/Blocks/grid_actions.html.twig', { grid: grid }) }}
            </div>
          </div>
        {% endblock %}
      {% endembed %}
    </div>
  </div>

  <div
    class="modal fade js-detail-modal"
  id="rj_info_shipment_detail_modal"
    tabindex="-1"
    role="dialog"
    aria-hidden="true"
    data-empty="{{ 'No disponible'|trans({}, 'Modules.RjMulticarrier.Admin') }}"
    data-error-generic="{{ 'No se pudo cargar el detalle del paquete.'|trans({}, 'Modules.RjMulticarrier.Admin') }}"
    data-error-not-found="{{ 'El paquete solicitado ya no existe.'|trans({}, 'Modules.RjMulticarrier.Admin') }}"
  data-trigger=".js-info-shipment-view-row-action"
  >
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title mb-0">{{ 'Detalle del paquete'|trans({}, 'Modules.RjMulticarrier.Admin') }}</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="{{ 'Cerrar'|trans({}, 'Admin.Actions') }}">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="alert alert-danger d-none js-detail-error" role="alert"></div>

          <div class="text-center my-4 d-none js-detail-spinner">
            <span class="spinner-border" role="status" aria-hidden="true"></span>
            <span class="sr-only">{{ 'Cargando…'|trans({}, 'Admin.Actions') }}</span>
          </div>

          <div class="js-detail-content d-none">
            <dl class="row">
              <dt class="col-sm-4">{{ 'ID paquete'|trans({}, 'Modules.RjMulticarrier.Admin') }}</dt>
              <dd class="col-sm-8 js-detail-field" data-detail-field="id">—</dd>

              <dt class="col-sm-4">{{ 'ID pedido'|trans({}, 'Modules.RjMulticarrier.Admin') }}</dt>
              <dd class="col-sm-8 js-detail-field" data-detail-field="orderId">—</dd>

              <dt class="col-sm-4">{{ 'Carrier referencia'|trans({}, 'Modules.RjMulticarrier.Admin') }}</dt>
              <dd class="col-sm-8 js-detail-field" data-detail-field="referenceCarrierId">—</dd>

              <dt class="col-sm-4">{{ 'Tipo de envío'|trans({}, 'Modules.RjMulticarrier.Admin') }}</dt>
              <dd class="col-sm-8 js-detail-field" data-detail-field="typeShipmentName">—</dd>

              <dt class="col-sm-4">{{ 'Compañía'|trans({}, 'Modules.RjMulticarrier.Admin') }}</dt>
              <dd class="col-sm-8 js-detail-field" data-detail-field="companyName">—</dd>

              <dt class="col-sm-4">{{ 'Nombre corto compañía'|trans({}, 'Modules.RjMulticarrier.Admin') }}</dt>
              <dd class="col-sm-8 js-detail-field" data-detail-field="companyShortName">—</dd>

              <dt class="col-sm-4">{{ 'Cantidad'|trans({}, 'Modules.RjMulticarrier.Admin') }}</dt>
              <dd class="col-sm-8 js-detail-field" data-detail-field="quantity">—</dd>

              <dt class="col-sm-4">{{ 'Peso'|trans({}, 'Modules.RjMulticarrier.Admin') }}</dt>
              <dd class="col-sm-8 js-detail-field" data-detail-field="weight">—</dd>

              <dt class="col-sm-4">{{ 'Largo'|trans({}, 'Modules.RjMulticarrier.Admin') }}</dt>
              <dd class="col-sm-8 js-detail-field" data-detail-field="length">—</dd>

              <dt class="col-sm-4">{{ 'Ancho'|trans({}, 'Modules.RjMulticarrier.Admin') }}</dt>
              <dd class="col-sm-8 js-detail-field" data-detail-field="width">—</dd>

              <dt class="col-sm-4">{{ 'Alto'|trans({}, 'Modules.RjMulticarrier.Admin') }}</dt>
              <dd class="col-sm-8 js-detail-field" data-detail-field="height">—</dd>

              <dt class="col-sm-4">{{ 'Contra reembolso'|trans({}, 'Modules.RjMulticarrier.Admin') }}</dt>
              <dd class="col-sm-8 js-detail-field text-break" data-detail-field="cashOnDelivery">—</dd>

              <dt class="col-sm-4">{{ 'Mensaje'|trans({}, 'Modules.RjMulticarrier.Admin') }}</dt>
              <dd class="col-sm-8 js-detail-field text-break" data-detail-field="message">—</dd>

              <dt class="col-sm-4">{{ 'Horario desde'|trans({}, 'Modules.RjMulticarrier.Admin') }}</dt>
              <dd class="col-sm-8 js-detail-field" data-detail-field="hourFrom">—</dd>

              <dt class="col-sm-4">{{ 'Horario hasta'|trans({}, 'Modules.RjMulticarrier.Admin') }}</dt>
              <dd class="col-sm-8 js-detail-field" data-detail-field="hourUntil">—</dd>

              <dt class="col-sm-4">{{ 'Retorno'|trans({}, 'Modules.RjMulticarrier.Admin') }}</dt>
              <dd class="col-sm-8 js-detail-field" data-detail-field="retorno">—</dd>

              <dt class="col-sm-4">{{ 'Seguro RCS'|trans({}, 'Modules.RjMulticarrier.Admin') }}</dt>
              <dd
                class="col-sm-8 js-detail-field"
                data-detail-field="rcs"
                data-detail-render="boolean"
                data-detail-true="{{ 'Sí'|trans({}, 'Admin.Global') }}"
                data-detail-false="{{ 'No'|trans({}, 'Admin.Global') }}"
              >—</dd>

              <dt class="col-sm-4">{{ 'Valor asegurado'|trans({}, 'Modules.RjMulticarrier.Admin') }}</dt>
              <dd class="col-sm-8 js-detail-field" data-detail-field="vsec">—</dd>

              <dt class="col-sm-4">{{ 'Origen'|trans({}, 'Modules.RjMulticarrier.Admin') }}</dt>
              <dd class="col-sm-8 js-detail-field text-break" data-detail-field="dorig">—</dd>

              <dt class="col-sm-4">{{ 'Creado el'|trans({}, 'Modules.RjMulticarrier.Admin') }}</dt>
              <dd class="col-sm-8 js-detail-field" data-detail-field="createdAt">—</dd>

              <dt class="col-sm-4">{{ 'Actualizado el'|trans({}, 'Modules.RjMulticarrier.Admin') }}</dt>
              <dd class="col-sm-8 js-detail-field" data-detail-field="updatedAt">—</dd>
            </dl>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">{{ 'Cerrar'|trans({}, 'Admin.Actions') }}</button>
        </div>
      </div>
    </div>
  </div>

  <div
    class="modal fade js-panel-modal"
    id="rj_info_shipment_panel_modal"
    tabindex="-1"
    role="dialog"
    aria-hidden="true"
  data-trigger=".js-info-shipment-create-row-action, .js-info-shipment-generate-row-action"
    data-error-generic="{{ 'No se pudo cargar la información del pedido.'|trans({}, 'Modules.RjMulticarrier.Admin') }}"
    data-error-not-found="{{ 'El pedido solicitado ya no existe.'|trans({}, 'Modules.RjMulticarrier.Admin') }}"
    data-loading-label="{{ 'Cargando…'|trans({}, 'Admin.Actions') }}"
  >
    <div class="modal-dialog modal-xl" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title js-panel-title mb-0">{{ 'Generar envío'|trans({}, 'Modules.RjMulticarrier.Admin') }}</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="{{ 'Cerrar'|trans({}, 'Admin.Actions') }}">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="alert alert-danger d-none js-panel-error" role="alert"></div>

          <div class="text-center my-4 js-panel-spinner">
            <span class="spinner-border" role="status" aria-hidden="true"></span>
            <span class="sr-only">{{ 'Cargando…'|trans({}, 'Admin.Actions') }}</span>
          </div>

          <div class="js-panel-content d-none"></div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
